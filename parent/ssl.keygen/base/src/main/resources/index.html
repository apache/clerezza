<!--

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Keygen sample webapp</title>
    <script type="text/javascript" src="crosskeygen.js">
        /**/
    </script>
</head>
<body onload="configurePage()">
<div id="iehelptext" style="display: none;">
    <p>Using Internet Explorer under Windows Vista or above or Windows
        Server 2008, you need to configure the following for this to work:</p>
    <ul>
        <li>Add this site to the <i>Trusted Sites</i> list: in Internet
            Options -&gt; Security -&gt; Trusted Sites -&gt; Sites -&gt; Add ...
        </li>
        <li>You may need to configure the trust level (in this tab), using
            <i>Custom Level...</i>: enable <i>Initialize and script ActiveX
                controls not marked as safe for scripting</i>.
        </li>
        <li>If you are using Windows Vista without SP1 or above, you will
            probably need to install <a href="cacert.crt">this certificate</a> as a
            Trusted Root Certification Authority Certificate for your own
            certificate installation to succeed. You should probably remove that
            trusted root CA certificate afterwards.
        </li>
    </ul>
</div>
<form id="keygenform" action="http://localhost:8080/xwiki/bin/view/XWiki/keygen" method="POST">
    <table>
        <tr>
            <td>Common Name (to help you identify the certificate):</td>
            <td><input name="cn" id="cn" type="text" value=""/></td>
        </tr>
        <tr>
            <td>WebID:</td>
            <td><input name="webid" id="webid" type="text" value=""/></td>
        </tr>
        <tr>
            <td>Key strength:</td>
            <td id="keystrenghtd">
                <keygen id="spkac" name="spkac"
                        challenge="TheChallenge1"/>
            </td>
        </tr>
    </table>
    <input id="keygensubmit" type="submit"/></form>
</body>
</html>
